/**
 * van11y-accessible-accordion-aria - ES2015 accessible accordion system, using ARIA (compatible IE9+ when transpiled)
 * @version v1.0.5
 * @link https://van11y.net/accessible-accordion/
 * @license MIT : https://github.com/nico3333fr/van11y-accessible-accordion-aria/blob/master/LICENSE
 */
"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){var t="js-accordion",r="js-accordion__header",n="js-accordion__panel",i="data-accordion-prefix-classes",o="data-accordion-opened",u="data-accordion-multiselectable",a="accordion",c="_tab",l="_panel",s="accordion",f="accordion__title",d="accordion__header",b="accordion__panel",p="tablist",A="tab",y="tabpanel",v="role",g="aria-multiselectable",m="aria-expanded",_="aria-labelledby",h="aria-hidden",k="aria-controls",E="aria-selected",T=function(t){return e.getElementById(t)},L=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},P=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},x=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},C=function(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})},D=function(e){e.forEach(function(e){var t;C(e,(t={},_defineProperty(t,E,"false"),_defineProperty(t,"tabindex","-1"),t))})},N=function(e){e.setAttribute(E,!0),e.removeAttribute("tabindex")},S=function(e,t){var r=void 0;e.forEach(function(e,t){"true"===e.getAttribute(E)&&(r=t)}),"next"===t&&(N(e[r+1]),setTimeout(function(){e[r+1].focus()},0)),"prev"===t&&(N(e[r-1]),setTimeout(function(){e[r-1].focus()},0))},j=function(e,t){for(var r=!1,n=e.parentNode;n&&r===!1;)x(n,t)===!0?r=!0:n=n.parentNode;return r===!0?n.getAttribute("id"):""},q=function(){return[].slice.call(e.querySelectorAll("."+t))},w=function K(){q().forEach(function(e,t){var n=t+1,T=e.hasAttribute(i)===!0?e.getAttribute(i)+"-":"";"none"===e.getAttribute(u)?e.setAttribute(g,"false"):e.setAttribute(g,"true"),e.setAttribute(v,p),L(e,T+s);var x=[].slice.call(e.querySelectorAll("."+r));x.forEach(function(t,i){var u,s,p=i+1,g=t.nextElementSibling,x=t.innerHTML,D=document.createElement("BUTTON"),N=t.hasAttribute(o)===!0?t.getAttribute(o):"";D.innerHTML=x,L(D,r),L(D,T+d),C(D,(u={},_defineProperty(u,v,A),_defineProperty(u,"id",a+n+c+p),_defineProperty(u,k,a+n+l+p),_defineProperty(u,E,"false"),_defineProperty(u,"tabindex","-1"),_defineProperty(u,"type","button"),u)),D=e.insertBefore(D,t),g.insertBefore(t,g.firstChild),L(t,T+f),P(t,r),L(g,T+b),C(g,(s={},_defineProperty(s,v,y),_defineProperty(s,_,a+n+c+p),_defineProperty(s,"id",a+n+l+p),s)),"true"===N?(D.setAttribute(m,"true"),t.removeAttribute(o),g.setAttribute(h,"false")):(D.setAttribute(m,"false"),g.setAttribute(h,"true")),1===p&&D.removeAttribute("tabindex")})}),["click","keydown","focus"].forEach(function(t){e.body.addEventListener(t,function(e){if(x(e.target,r)===!0&&"focus"===t){var i=e.target,o=i.parentNode,u=[].slice.call(o.querySelectorAll("."+r));D(u),N(i)}x(e.target,r)===!0&&"click"===t&&!function(){var t=e.target,n=t.parentNode,i=[].slice.call(n.querySelectorAll("."+r)),o=n.getAttribute(g),u=T(t.getAttribute(k)),a=t.getAttribute(m);"false"===a?(t.setAttribute(m,!0),u.removeAttribute(h)):(t.setAttribute(m,!1),u.setAttribute(h,!0)),"false"===o&&i.forEach(function(e){var r=T(e.getAttribute(k));e!==t?(e.setAttribute(E,!1),e.setAttribute(m,!1),r.setAttribute(h,!0)):e.setAttribute(E,!0)}),setTimeout(function(){t.focus()},0),e.preventDefault()}(),x(e.target,r)===!0&&"keydown"===t&&!function(){var t=e.target,n=t.parentNode,i=[].slice.call(n.querySelectorAll("."+r));36===e.keyCode?(D(i),N(i[0]),setTimeout(function(){i[0].focus()},0),e.preventDefault()):35===e.keyCode?(D(i),N(i[i.length-1]),setTimeout(function(){i[i.length-1].focus()},0),e.preventDefault()):37!==e.keyCode&&38!==e.keyCode||e.ctrlKey?40!==e.keyCode&&39!==e.keyCode||e.ctrlKey||("true"===i[i.length-1].getAttribute(E)?(D(i),N(i[0]),setTimeout(function(){i[0].focus()},0),e.preventDefault()):(S(i,"next"),e.preventDefault())):"true"===i[0].getAttribute(E)?(D(i),N(i[i.length-1]),setTimeout(function(){i[i.length-1].focus()},0),e.preventDefault()):(S(i,"prev"),e.preventDefault())}();var a=j(e.target,n);""!==a&&"keydown"===t&&!function(){var t=T(a),n=t.parentNode,i=[].slice.call(n.querySelectorAll("."+r)),o=T(t.getAttribute(_));38===e.keyCode&&e.ctrlKey&&(D(i),N(o),setTimeout(function(){o.focus()},0),e.preventDefault()),33===e.keyCode&&e.ctrlKey&&(D(i),N(o),o.focus(),e.preventDefault(),"true"===i[0].getAttribute(E)?(D(i),N(i[i.length-1]),setTimeout(function(){i[i.length-1].focus()},0)):S(i,"prev")),34===e.keyCode&&e.ctrlKey&&(D(i),N(o),o.focus(),e.preventDefault(),"true"===i[i.length-1].getAttribute(E)?(D(i),N(i[0]),setTimeout(function(){i[0].focus()},0)):S(i,"next"))}()},!0)}),document.removeEventListener("DOMContentLoaded",K)};document.addEventListener("DOMContentLoaded",w)}(document);