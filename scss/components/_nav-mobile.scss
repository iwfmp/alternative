/* ==========================================================================
   #NAV MOBILE
   ========================================================================== */

$nav-mobile-pi: 3.14 !default;
$nav-mobile-items: 3 !default;
$nav-mobile-open-distance: 115px !default;
$nav-mobile-open-angle: $nav-mobile-pi - .2 !default;

.c-nav--mobile {
  position: relative;
}





/* # Nav Mobile Menu
   ========================================================================== */

.c-nav__menu {

  @util position(fixed, 0 null null 0);
  width: 100%;
  height: 100vh;
  transform: translateX(-100%);
  background: gray;
  transition: transform .5s ease;
  z-index: z(default);
  display: flex;
  flex-direction: column;
}

.is-active + .c-nav__menu { transform: translateX(0); }

.c-nav__item {


  @for $i from 1 through $nav-mobile-items {
    &:nth-child(#{$i+2}) { transition-duration: 180ms; }
  }
}





/* # Nav Mobile Open
   ========================================================================== */

.is-active + .c-nav__menu .c-nav__item {
  transition-timing-function: cubic-bezier(.935, 0, .34, 1.33);

  @for $i from 1 through $nav-mobile-items {
    $nav-mobile-open-angle: (($nav-mobile-pi - $nav-mobile-open-angle) / 2) + (($nav-mobile-open-angle/($nav-mobile-items - 1)) * ($i - 1));

    &:nth-child(#{$i + 2}) {
      transform: translate3d(cos($nav-mobile-open-angle) * $nav-mobile-open-distance, sin($nav-mobile-open-angle) * $nav-mobile-open-distance, 0);
      transition-duration: 80ms + (80ms * $i);
    }
  }
}
